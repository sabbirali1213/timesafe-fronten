<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Delivery Control Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        .section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .section h3 {
            margin-top: 0;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .order-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background: #fafafa;
        }
        .order-card.pending {
            border-left: 4px solid #f39c12;
            background: #fff8e1;
        }
        .order-card.assigned {
            border-left: 4px solid #27ae60;
            background: #f0f8f0;
        }
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
        }
        .btn:hover {
            background: #5a6fd8;
        }
        .btn.assign {
            background: #f39c12;
        }
        .btn.assign:hover {
            background: #e67e22;
        }
        .delivery-partners {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        .partner-card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .partner-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .partner-card.available {
            background: #e8f5e8;
        }
        .partner-card.busy {
            background: #ffe8e8;
        }
        .stats {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        .stat-card {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            color: white;
        }
        .stat-card.pending {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }
        .stat-card.assigned {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
        }
        .stat-card.partners {
            background: linear-gradient(135deg, #3498db, #2980b9);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 10% auto;
            padding: 20px;
            border-radius: 10px;
            width: 80%;
            max-width: 500px;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }
        .close:hover {
            color: black;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>🚚 Admin Delivery Control Center</h1>
        <p>Select and assign delivery partners to orders</p>
    </div>

    <div class="stats">
        <div class="stat-card pending">
            <h3>📦 Pending Orders</h3>
            <div class="stat-number" id="pendingCount">5</div>
            <p>Waiting for assignment</p>
        </div>
        <div class="stat-card assigned">
            <h3>🚛 Assigned Orders</h3>
            <div class="stat-number" id="assignedCount">12</div>
            <p>Out for delivery</p>
        </div>
        <div class="stat-card partners">
            <h3>👥 Available Partners</h3>
            <div class="stat-number" id="partnersCount">8</div>
            <p>Ready to deliver</p>
        </div>
    </div>

    <div class="content">
        <div class="section">
            <h3>📦 Orders Waiting for Assignment</h3>
            
            <div class="order-card pending">
                <div><strong>Order #ORD001</strong></div>
                <div>Customer: Rahul Sharma</div>
                <div>📞 +91 9876543210</div>
                <div>💰 ₹850</div>
                <div>📍 Bandra West, Mumbai</div>
                <button class="btn assign" onclick="openAssignmentModal('ORD001', 'Rahul Sharma', '850')">
                    🎯 Select Delivery Boy
                </button>
            </div>

            <div class="order-card pending">
                <div><strong>Order #ORD002</strong></div>
                <div>Customer: Priya Patel</div>
                <div>📞 +91 9876543211</div>
                <div>💰 ₹1200</div>
                <div>📍 Andheri East, Mumbai</div>
                <button class="btn assign" onclick="openAssignmentModal('ORD002', 'Priya Patel', '1200')">
                    🎯 Select Delivery Boy
                </button>
            </div>

            <div class="order-card pending">
                <div><strong>Order #ORD003</strong></div>
                <div>Customer: Amit Kumar</div>
                <div>📞 +91 9876543212</div>
                <div>💰 ₹650</div>
                <div>📍 Powai, Mumbai</div>
                <button class="btn assign" onclick="openAssignmentModal('ORD003', 'Amit Kumar', '650')">
                    🎯 Select Delivery Boy
                </button>
            </div>
        </div>

        <div class="section">
            <h3>🚛 Already Assigned Orders</h3>
            
            <div class="order-card assigned">
                <div><strong>Order #ORD101</strong></div>
                <div>Customer: Sneha Reddy</div>
                <div>🚚 Assigned to: Ravi Kumar</div>
                <div>📞 Partner: +91 9876543301</div>
                <div>💰 ₹950</div>
                <div>📍 Juhu, Mumbai</div>
                <div style="color: green; font-weight: bold;">✅ Out for Delivery</div>
            </div>

            <div class="order-card assigned">
                <div><strong>Order #ORD102</strong></div>
                <div>Customer: Vikash Singh</div>
                <div>🚚 Assigned to: Suresh Yadav</div>
                <div>📞 Partner: +91 9876543302</div>
                <div>💰 ₹1100</div>
                <div>📍 Malad West, Mumbai</div>
                <div style="color: blue; font-weight: bold;">📦 Preparing</div>
            </div>
        </div>
    </div>

    <!-- Assignment Modal -->
    <div id="assignmentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAssignmentModal()">&times;</span>
            <h3>🎯 Select Delivery Partner</h3>
            <div id="orderDetails"></div>
            
            <h4>Available Delivery Partners:</h4>
            <div class="delivery-partners">
                <div class="partner-card available" onclick="assignPartner('DEL001', 'Ravi Kumar')">
                    <div><strong>Ravi Kumar</strong></div>
                    <div>📞 +91 9876543301</div>
                    <div>📍 2.1 km away</div>
                    <div>🚚 2 active deliveries</div>
                    <div style="color: green; font-weight: bold;">✅ Available</div>
                </div>

                <div class="partner-card available" onclick="assignPartner('DEL002', 'Suresh Yadav')">
                    <div><strong>Suresh Yadav</strong></div>
                    <div>📞 +91 9876543302</div>
                    <div>📍 3.5 km away</div>
                    <div>🚚 1 active delivery</div>
                    <div style="color: green; font-weight: bold;">✅ Available</div>
                </div>

                <div class="partner-card available" onclick="assignPartner('DEL003', 'Arjun Mehta')">
                    <div><strong>Arjun Mehta</strong></div>
                    <div>📞 +91 9876543303</div>
                    <div>📍 1.8 km away</div>
                    <div>🚚 0 active deliveries</div>
                    <div style="color: green; font-weight: bold;">✅ Available</div>
                </div>

                <div class="partner-card busy" onclick="alert('This delivery partner is currently busy')">
                    <div><strong>Rohit Sharma</strong></div>
                    <div>📞 +91 9876543304</div>
                    <div>📍 4.2 km away</div>
                    <div>🚚 3 active deliveries</div>
                    <div style="color: red; font-weight: bold;">🔴 Busy</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentOrder = null;

        function openAssignmentModal(orderId, customerName, amount) {
            currentOrder = { orderId, customerName, amount };
            document.getElementById('orderDetails').innerHTML = `
                <div style="background: #f0f8ff; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
                    <div><strong>Order: ${orderId}</strong></div>
                    <div>Customer: ${customerName}</div>
                    <div>Amount: ₹${amount}</div>
                </div>
            `;
            document.getElementById('assignmentModal').style.display = 'block';
        }

        function closeAssignmentModal() {
            document.getElementById('assignmentModal').style.display = 'none';
            currentOrder = null;
        }

        function assignPartner(partnerId, partnerName) {
            if (!currentOrder) return;
            
            if (confirm(`Assign ${partnerName} to ${currentOrder.orderId}?`)) {
                alert(`✅ Successfully assigned ${partnerName} to ${currentOrder.orderId}!`);
                
                // Simulate assignment - in real app, this would call the API
                console.log('Assignment:', {
                    orderId: currentOrder.orderId,
                    partnerId: partnerId,
                    partnerName: partnerName
                });
                
                closeAssignmentModal();
                
                // Update UI to show assignment
                setTimeout(() => {
                    alert('🚀 Order is now out for delivery!');
                    // In real app, this would refresh the data from server
                }, 1000);
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('assignmentModal');
            if (event.target == modal) {
                closeAssignmentModal();
            }
        }

        // Simulate real-time updates
        setInterval(() => {
            // In real app, this would fetch fresh data from server
            console.log('Checking for new orders and partner status updates...');
        }, 30000);
    </script>
</body>
</html>